(self.webpackChunkcookbook_web=self.webpackChunkcookbook_web||[]).push([[531],{68408:function(X){X.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",top:"top___1C1Zi",header:"header___5xZ3f",logo:"logo___2hXsy",title:"title___1-xuF",desc:"desc___-njyT",main:"main___x4OjT",icon:"icon___rzGKO",other:"other___lLyaU",register:"register___11Twg",prefixIcon:"prefixIcon___23Xrx"}},7330:function(){},46015:function(X,Y,e){"use strict";e.r(Y),e.d(Y,{default:function(){return lt}});var vt=e(49111),ue=e(19650),ft=e(18106),J=e(47428),A=e(11849),$=e(3182),mt=e(34792),G=e(48086),H=e(2824),pt=e(43673),gt=e(7330),V=e(22122),I=e(96156),de=e(28481),s=e(67294),ve=e(54549),fe=e(15873),me=e(57119),pe=e(68628),ge=e(73218),he=e(38819),ye=e(68855),Ce=e(40847),xe=e(43061),Oe=e(60444),je=e(94184),K=e.n(je),Ze=e(86032),Se=e(5467),Pe=e(6610),Ee=e(5991),Ne=e(10379),Le=e(44144),Te=function(n){(0,Ne.Z)(r,n);var t=(0,Le.Z)(r);function r(){var a;return(0,Pe.Z)(this,r),a=t.apply(this,arguments),a.state={error:void 0,info:{componentStack:""}},a}return(0,Ee.Z)(r,[{key:"componentDidCatch",value:function(o,c){this.setState({error:o,info:c})}},{key:"render",value:function(){var o=this.props,c=o.message,C=o.description,j=o.children,Z=this.state,b=Z.error,S=Z.info,F=S&&S.componentStack?S.componentStack:null,P=typeof c=="undefined"?(b||"").toString():c,M=typeof C=="undefined"?F:C;return b?s.createElement(k,{type:"error",message:P,description:s.createElement("pre",null,M)}):j}}]),r}(s.Component),be=e(96159),Fe=function(n,t){var r={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(r[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(r[a[o]]=n[a[o]]);return r},Ie={success:he.Z,info:Ce.Z,error:xe.Z,warning:ye.Z},Me={success:fe.Z,info:pe.Z,error:ge.Z,warning:me.Z},Q=function(t){var r,a=t.description,o=t.prefixCls,c=t.message,C=t.banner,j=t.className,Z=j===void 0?"":j,b=t.style,S=t.onMouseEnter,F=t.onMouseLeave,P=t.onClick,M=t.afterClose,U=t.showIcon,g=t.closable,z=t.closeText,D=t.action,E=Fe(t,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","action"]),W=s.useState(!1),R=(0,de.Z)(W,2),p=R[0],v=R[1],d=s.useRef(),f=s.useContext(Ze.E_),x=f.getPrefixCls,h=f.direction,i=x("alert",o),w=function(m){var L;v(!0),(L=E.onClose)===null||L===void 0||L.call(E,m)},le=function(){var m=E.type;return m!==void 0?m:C?"warning":"info"},u=z?!0:g,ie=le(),it=function(){var m=E.icon,L=(a?Me:Ie)[ie]||null;return m?(0,be.wm)(m,s.createElement("span",{className:"".concat(i,"-icon")},m),function(){return{className:K()("".concat(i,"-icon"),(0,I.Z)({},m.props.className,m.props.className))}}):s.createElement(L,{className:"".concat(i,"-icon")})},ct=function(){return u?s.createElement("button",{type:"button",onClick:w,className:"".concat(i,"-close-icon"),tabIndex:0},z?s.createElement("span",{className:"".concat(i,"-close-text")},z):s.createElement(ve.Z,null)):null},ce=C&&U===void 0?!0:U,ut=K()(i,"".concat(i,"-").concat(ie),(r={},(0,I.Z)(r,"".concat(i,"-with-description"),!!a),(0,I.Z)(r,"".concat(i,"-no-icon"),!ce),(0,I.Z)(r,"".concat(i,"-banner"),!!C),(0,I.Z)(r,"".concat(i,"-rtl"),h==="rtl"),r),Z),dt=(0,Se.Z)(E);return s.createElement(Oe.Z,{visible:!p,motionName:"".concat(i,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(m){return{maxHeight:m.offsetHeight}},onLeaveEnd:M},function(N){var m=N.className,L=N.style;return s.createElement("div",(0,V.Z)({ref:d,"data-show":!p,className:K()(ut,m),style:(0,V.Z)((0,V.Z)({},b),L),onMouseEnter:S,onMouseLeave:F,onClick:P,role:"alert"},dt),ce?it():null,s.createElement("div",{className:"".concat(i,"-content")},s.createElement("div",{className:"".concat(i,"-message")},c),s.createElement("div",{className:"".concat(i,"-description")},a)),D?s.createElement("div",{className:"".concat(i,"-action")},D):null,ct())})};Q.ErrorBoundary=Te;var k=Q,Ue=e(94043),T=e.n(Ue),ze={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},Ae=ze,q=e(27029),_=function(t,r){return s.createElement(q.Z,Object.assign({},t,{ref:r,icon:Ae}))};_.displayName="LockOutlined";var Be=s.forwardRef(_),De={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm215.3 337.7c.3 4.7.3 9.6.3 14.4 0 146.8-111.8 315.9-316.1 315.9-63 0-121.4-18.3-170.6-49.8 9 1 17.6 1.4 26.8 1.4 52 0 99.8-17.6 137.9-47.4-48.8-1-89.8-33-103.8-77 17.1 2.5 32.5 2.5 50.1-2a111 111 0 01-88.9-109v-1.4c14.7 8.3 32 13.4 50.1 14.1a111.13 111.13 0 01-49.5-92.4c0-20.7 5.4-39.6 15.1-56a315.28 315.28 0 00229 116.1C492 353.1 548.4 292 616.2 292c32 0 60.8 13.4 81.1 35 25.1-4.7 49.1-14.1 70.5-26.7-8.3 25.7-25.7 47.4-48.8 61.1 22.4-2.4 44-8.6 64-17.3-15.1 22.2-34 41.9-55.7 57.6z"}}]},name:"twitter-circle",theme:"filled"},Re=De,ee=function(t,r){return s.createElement(q.Z,Object.assign({},t,{ref:r,icon:Re}))};ee.displayName="TwitterCircleFilled";var we=s.forwardRef(ee),$e=e(89366),ht=e(63185),Ge=e(9676),He=e(84793),Ve=e(22270),te=e(99122),Ke=["options","fieldProps","proFieldProps","valueEnum"];function B(){return B=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},B.apply(this,arguments)}function re(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,a)}return r}function We(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?re(Object(r),!0).forEach(function(a){Xe(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}function Xe(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function Ye(n,t){if(n==null)return{};var r=Je(n,t),a,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(o=0;o<c.length;o++)a=c[o],!(t.indexOf(a)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,a)||(r[a]=n[a]))}return r}function Je(n,t){if(n==null)return{};var r={},a=Object.keys(n),o,c;for(c=0;c<a.length;c++)o=a[c],!(t.indexOf(o)>=0)&&(r[o]=n[o]);return r}var Qe=s.forwardRef(function(n,t){var r=n.options,a=n.fieldProps,o=n.proFieldProps,c=n.valueEnum,C=Ye(n,Ke);return s.createElement(He.ZP,B({ref:t,valueType:"checkbox",mode:"edit",valueEnum:(0,Ve.h)(c,void 0)},C,{fieldProps:We({options:r},a)},o))}),ke=s.forwardRef(function(n,t){var r=n.fieldProps,a=n.children;return s.createElement(Ge.Z,B({ref:t},r),a)}),qe=(0,te.Z)(ke,{valuePropName:"checked"}),_e=(0,te.Z)(Qe),ne=qe;ne.Group=_e;var et=ne,tt=e(91399),ae=e(5966),O=e(48971),oe=e(19611),rt=e(29791),nt=e(36571),at=e(68408),y=e.n(at),se=e(88793),l=e(85893),ot=function(t){var r=t.content;return(0,l.jsx)(k,{style:{marginBottom:24},message:r,type:"error",showIcon:!0})},st=function(t){var r=(0,s.useState)(!1),a=(0,H.Z)(r,2),o=a[0],c=a[1],C=(0,s.useState)({}),j=(0,H.Z)(C,2),Z=j[0],b=j[1],S=(0,s.useState)("account"),F=(0,H.Z)(S,2),P=F[0],M=F[1],U=(0,O.tT)("@@initialState"),g=U.initialState,z=U.setInitialState;(0,s.useEffect)(function(){var p,v;if((g==null||(p=g.currentUser)===null||p===void 0?void 0:p.access)==="admin"||(g==null||(v=g.currentUser)===null||v===void 0?void 0:v.access)==="user"){var d,f;G.default.info("You have already logged in."),O.m8.push((O.m8===null||O.m8===void 0||(d=O.m8.location)===null||d===void 0||(f=d.query)===null||f===void 0?void 0:f.redirect)||"/")}},[]);var D=function(){var p=(0,$.Z)(T().mark(function v(){var d,f;return T().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,g==null||(d=g.fetchUserInfo)===null||d===void 0?void 0:d.call(g);case 2:if(f=h.sent,!f){h.next=6;break}return h.next=6,z(function(i){return(0,A.Z)((0,A.Z)({},i),{},{currentUser:f})});case 6:case"end":return h.stop()}},v)}));return function(){return p.apply(this,arguments)}}(),E=function(){var p=(0,$.Z)(T().mark(function v(d){var f,x,h,i,w;return T().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return c(!0),u.prev=1,u.next=4,(0,nt.x4)((0,A.Z)((0,A.Z)({},d),{},{type:P}));case 4:if(f=u.sent,f.status!=="ok"){u.next=15;break}return G.default.success("Logged in successfully!"),u.next=9,D();case 9:if(O.m8){u.next=11;break}return u.abrupt("return");case 11:return x=O.m8.location.query,h=x,i=h.redirect,O.m8.push(i||"/"),u.abrupt("return");case 15:b(f),u.next=22;break;case 18:u.prev=18,u.t0=u.catch(1),w="Login failed, please check!",G.default.error(w);case 22:c(!1);case 23:case"end":return u.stop()}},v,null,[[1,18]])}));return function(d){return p.apply(this,arguments)}}(),W=Z.status,R=Z.type;return(0,l.jsxs)("div",{className:y().container,children:[(0,l.jsxs)("div",{className:y().content,children:[(0,l.jsx)("div",{className:y().top,children:(0,l.jsx)("div",{className:y().header,children:(0,l.jsxs)(oe.rU,{to:"/",children:[(0,l.jsx)("img",{alt:"logo",className:y().logo,src:"".concat(se.r?"/":"/static/","logo.svg")}),(0,l.jsx)("span",{className:y().title,children:se.q})]})})}),(0,l.jsxs)("div",{className:y().main,children:[(0,l.jsxs)(tt.ZP,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:"Log in"},render:function(v,d){return d.pop()},submitButtonProps:{loading:o,size:"large",style:{width:"100%"}}},onFinish:function(){var p=(0,$.Z)(T().mark(function v(d){return T().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:E(d);case 1:case"end":return x.stop()}},v)}));return function(v){return p.apply(this,arguments)}}(),children:[(0,l.jsx)(J.Z,{activeKey:P,onChange:M,children:(0,l.jsx)(J.Z.TabPane,{tab:"Login by account"},"account")}),W==="error"&&R==="account"&&(0,l.jsx)(ot,{content:"wrong username or password"}),P==="account"&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ae.Z,{name:"username",fieldProps:{size:"large",prefix:(0,l.jsx)($e.Z,{className:y().prefixIcon})},placeholder:"Username: admin or user",rules:[{required:!0,message:"Username required!"}]}),(0,l.jsx)(ae.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,l.jsx)(Be,{className:y().prefixIcon})},placeholder:"password: ant.design",rules:[{required:!0,message:"Password required\uFF01"}]})]}),(0,l.jsxs)("div",{style:{marginBottom:24},children:[(0,l.jsx)(et,{noStyle:!0,name:"autoLogin",children:"auto login"}),(0,l.jsx)(oe.rU,{to:"/user/register",style:{float:"right"},children:"Signup"})]})]}),(0,l.jsxs)(ue.Z,{className:y().other,children:["Other login methods:",(0,l.jsx)(we,{className:y().icon})]})]})]}),(0,l.jsx)(rt.Z,{})]})},lt=st}}]);
