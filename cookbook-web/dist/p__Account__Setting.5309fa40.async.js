(self.webpackChunkcookbook_web=self.webpackChunkcookbook_web||[]).push([[263],{64335:function(c,v,e){"use strict";var d=e(67294),f=(0,d.createContext)({});v.Z=f},21349:function(c,v,e){"use strict";var d=e(84305),f=e(58184),N=e(17781),S=e.n(N),l=e(67294),F=e(94184),w=e.n(F),W=e(64335),K=function(i){var V=(0,l.useContext)(W.Z),A=i.children,I=i.contentWidth,x=i.className,R=i.style,P=(0,l.useContext)(f.ZP.ConfigContext),m=P.getPrefixCls,M=i.prefixCls||m("pro"),O=I||V.contentWidth,T="".concat(M,"-grid-content");return l.createElement("div",{className:w()(T,x,{wide:O==="Fixed"}),style:R},l.createElement("div",{className:"".concat(M,"-grid-content-children")},A))};v.Z=K},58691:function(c){c.exports={baseView:"baseView___oUjxy",left:"left___QdCoD",right:"right___2m6ha",avatar_title:"avatar_title___pMeZU",avatar:"avatar___2h6EO",button_view:"button_view___3YYEA",area_code:"area_code___10Orh",phone_number:"phone_number___1FB4u"}},57764:function(c){c.exports={main:"main___1HS-r",leftMenu:"leftMenu___3vGFj",right:"right___R4J4v",title:"title___26J81"}},17781:function(){},12289:function(c,v,e){"use strict";e.r(v),e.d(v,{default:function(){return H}});var d=e(11849),f=e(2824),N=e(30887),S=e(99210),l=e(67294),F=e(21349),w=e(57663),W=e(60404),K=e(3182),G=e(34792),i=e(48086),V=e(9715),A=e(82482),I=e(94043),x=e.n(I),R=e(88245),P=e(5429),m=e(48971),M=e(58691),O=e.n(M),T=e(17673),t=e(85893),z=function(){var g=A.Z.useForm(),U=(0,f.Z)(g,1),h=U[0],u=h.getFieldValue,B=h.resetFields,o=(0,m.tT)("@@initialState"),Z=o.initialState,p=o.setInitialState,L=(0,m.QT)(function(s){return{url:"/api/user/update_password/",method:"post",data:s}},{manual:!0,onSuccess:function(r){if((r==null?void 0:r.status)==="ok"){i.default.success("Password Updated."),i.default.info("Please log in again.");var y=m.m8.location,D=y.query,a=D===void 0?{}:D,E=y.pathname,b=a.redirect;window.location.pathname!=="/user/login"&&!b&&m.m8.replace({pathname:"/user/login",search:(0,T.stringify)({redirect:E})})}else(r==null?void 0:r.status)==="error"&&i.default.error("Cannot update.")}}),C=L.run,n=function(){var s=(0,K.Z)(x().mark(function r(y){return x().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:C(y);case 1:case"end":return a.stop()}},r)}));return function(y){return s.apply(this,arguments)}}();return(0,t.jsx)("div",{className:O().baseView,children:(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:O().left,children:(0,t.jsxs)(R.ZP,{form:h,layout:"vertical",onFinish:n,submitter:{render:function(r,y){return[(0,t.jsx)(W.Z,{type:"primary",onClick:function(){var a,E;return(a=r.form)===null||a===void 0||(E=a.submit)===null||E===void 0?void 0:E.call(a)},children:"Update"},"submit")]}},hideRequiredMark:!0,children:[(0,t.jsx)(P.Z,{width:"md",name:"oldPassword",label:"Current Password",placeholder:"",rules:[{required:!0,message:"Please enter your current password!"}]}),(0,t.jsx)(P.Z,{width:"md",name:"newPassword",label:"New Password",placeholder:"",rules:[{required:!0,message:"Please enter your new password!"}]})]})})})})},$=z,J=e(57764),j=e.n(J),Q=S.Z.Item,Y=function(){var g={security:"Password Settings"},U=(0,l.useState)({mode:"inline",selectKey:"security"}),h=(0,f.Z)(U,2),u=h[0],B=h[1],o=(0,l.useRef)(),Z=function(){requestAnimationFrame(function(){if(!!o.current){var n="inline",s=o.current.offsetWidth;o.current.offsetWidth<641&&s>400&&(n="horizontal"),window.innerWidth<768&&s>400&&(n="horizontal"),B((0,d.Z)((0,d.Z)({},u),{},{mode:n}))}})};(0,l.useLayoutEffect)(function(){return o.current&&(window.addEventListener("resize",Z),Z()),function(){window.removeEventListener("resize",Z)}},[o.current]);var p=function(){return Object.keys(g).map(function(n){return(0,t.jsx)(Q,{children:g[n]},n)})},L=function(){var n=u.selectKey;switch(n){case"security":return(0,t.jsx)($,{});default:return null}};return(0,t.jsx)(F.Z,{children:(0,t.jsxs)("div",{className:j().main,ref:function(n){n&&(o.current=n)},children:[(0,t.jsx)("div",{className:j().leftMenu,children:(0,t.jsx)(S.Z,{mode:u.mode,selectedKeys:[u.selectKey],onClick:function(n){var s=n.key;B((0,d.Z)((0,d.Z)({},u),{},{selectKey:s}))},children:p()})}),(0,t.jsxs)("div",{className:j().right,children:[(0,t.jsx)("div",{className:j().title,children:g[u.selectKey]}),L()]})]})})},H=Y}}]);
