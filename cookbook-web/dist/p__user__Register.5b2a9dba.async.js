(self.webpackChunkcookbook_web=self.webpackChunkcookbook_web||[]).push([[717],{1749:function(j){j.exports={container:"container___13Hif",main:"main___2LFl9",password:"password___3lh5N",getCaptcha:"getCaptcha___3TqEc",submit:"submit___2usjY",login:"login___ed8Ah",success:"success___hwcGl",warning:"warning___2hTnp",error:"error___13kRO","progress-pass":"progress-pass___3Wzx2",progress:"progress___31B6l"}},6390:function(j,x,e){"use strict";e.r(x),e.d(x,{default:function(){return M}});var ss=e(57663),R=e(60404),es=e(20136),T=e(19181),rs=e(34669),z=e(32074),as=e(34792),E=e(48086),u=e(2824),ts=e(47673),n=e(4107),ns=e(43358),V=e(7031),os=e(9715),m=e(82482),g=e(67294),p=e(48971),I=e(19611),W=e(3182),G=e(94043),y=e.n(G);function L(v){return h.apply(this,arguments)}function h(){return h=(0,W.Z)(y().mark(function v(P){return y().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,p.WY)("/api/register",{method:"POST",data:P}));case 1:case"end":return l.stop()}},v)})),h.apply(this,arguments)}var O=e(1749),t=e.n(O),s=e(85893),o=m.Z.Item,ls=V.Z.Option,is=n.Z.Group,U={ok:(0,s.jsx)("div",{className:t().success,children:(0,s.jsx)("span",{children:"Strength: good"})}),pass:(0,s.jsx)("div",{className:t().warning,children:(0,s.jsx)("span",{children:"Strength: moderate"})}),poor:(0,s.jsx)("div",{className:t().error,children:(0,s.jsx)("span",{children:"Strength: poor"})})},$={ok:"success",pass:"normal",poor:"exception"},A=function(P){var F=(0,g.useState)(!1),l=(0,u.Z)(F,2),f=l[0],S=l[1],Y=(0,g.useState)(!1),Z=(0,u.Z)(Y,2),B=Z[0],D=Z[1],H=!1,N,Q=m.Z.useForm(),J=(0,u.Z)(Q,1),i=J[0];(0,g.useEffect)(function(){return function(){clearInterval(N)}},[N]);var w=function(){var r=i.getFieldValue("password");return r&&r.length>9?"ok":r&&r.length>5?"pass":"poor"},C=(0,p.QT)(L,{manual:!0,onSuccess:function(r,a){r.status==="ok"&&(E.default.success("\u6CE8\u518C\u6210\u529F\uFF01"),p.m8.push({pathname:"/user/register-result",state:{account:a.email}}))}}),K=C.loading,X=C.run,k=function(r){X(r)},b=function(r,a){var c=Promise;return a&&a!==i.getFieldValue("password")?c.reject("The passwords entered twice do not match!"):c.resolve()},q=function(r,a){var c=Promise;return a?(f||S(!!a),D(!B),a.length<6?c.reject(""):(a&&H&&i.validateFields(["confirm"]),c.resolve())):(S(!!a),c.reject("Please enter password!"))},_=function(){var r=i.getFieldValue("password"),a=w();return r&&r.length?(0,s.jsx)("div",{className:t()["progress-".concat(a)],children:(0,s.jsx)(z.Z,{status:$[a],className:t().progress,strokeWidth:6,percent:r.length*10>100?100:r.length*10,showInfo:!1})}):null};return(0,s.jsx)("div",{className:t().container,children:(0,s.jsxs)("div",{className:t().main,children:[(0,s.jsx)("h1",{children:"Register"}),(0,s.jsxs)(m.Z,{form:i,name:"UserRegister",onFinish:k,children:[(0,s.jsx)(o,{name:"Username",rules:[{required:!0,message:"Please enter your username!"},{type:"string",message:"Wrong username format!"}],children:(0,s.jsx)(n.Z,{size:"large",placeholder:"Username"})}),(0,s.jsx)(o,{name:"First Name",children:(0,s.jsx)(n.Z,{size:"large",placeholder:"First Name"})}),(0,s.jsx)(o,{name:"Last Name",children:(0,s.jsx)(n.Z,{size:"large",placeholder:"Last Name"})}),(0,s.jsx)(o,{name:"Email",rules:[{required:!0,message:"Please enter Email address!"},{type:"email",message:"Wrong email format!"}],children:(0,s.jsx)(n.Z,{size:"large",placeholder:"Email"})}),(0,s.jsx)(T.Z,{getPopupContainer:function(r){return r&&r.parentNode?r.parentNode:r},content:f&&(0,s.jsxs)("div",{style:{padding:"4px 0"},children:[U[w()],_(),(0,s.jsx)("div",{style:{marginTop:10},children:(0,s.jsx)("span",{children:"Please enter no less than 6 characters."})})]}),overlayStyle:{width:240},placement:"right",visible:f,children:(0,s.jsx)(o,{name:"password",className:i.getFieldValue("password")&&i.getFieldValue("password").length>0&&t().password,rules:[{validator:q}],children:(0,s.jsx)(n.Z,{size:"large",type:"password",placeholder:"Password"})})}),(0,s.jsx)(o,{name:"confirm",rules:[{required:!0,message:"Please confirm password!"},{validator:b}],children:(0,s.jsx)(n.Z,{size:"large",type:"password",placeholder:"Confirm password"})}),(0,s.jsxs)(o,{children:[(0,s.jsx)(R.Z,{size:"large",loading:K,className:t().submit,type:"primary",htmlType:"submit",children:(0,s.jsx)("span",{children:"Sign up"})}),(0,s.jsx)(I.rU,{className:t().login,to:"/user/login",children:(0,s.jsx)("span",{children:"Login with existing account"})})]})]})]})})},M=A}}]);
