(self.webpackChunkcookbook_web=self.webpackChunkcookbook_web||[]).push([[263],{64335:function(v,f,e){"use strict";var i=e(67294),m=(0,i.createContext)({});f.Z=m},21349:function(v,f,e){"use strict";var i=e(84305),m=e(58184),w=e(17781),S=e.n(w),d=e(67294),F=e(94184),V=e.n(F),W=e(64335),K=function(o){var p=(0,d.useContext)(W.Z),A=o.children,I=o.contentWidth,x=o.className,R=o.style,P=(0,d.useContext)(m.ZP.ConfigContext),h=P.getPrefixCls,M=o.prefixCls||h("pro"),Z=I||p.contentWidth,T="".concat(M,"-grid-content");return d.createElement("div",{className:V()(T,x,{wide:Z==="Fixed"}),style:R},d.createElement("div",{className:"".concat(M,"-grid-content-children")},A))};f.Z=K},58691:function(v){v.exports={baseView:"baseView___oUjxy",left:"left___QdCoD",right:"right___2m6ha",avatar_title:"avatar_title___pMeZU",avatar:"avatar___2h6EO",button_view:"button_view___3YYEA",area_code:"area_code___10Orh",phone_number:"phone_number___1FB4u"}},57764:function(v){v.exports={main:"main___1HS-r",leftMenu:"leftMenu___3vGFj",right:"right___R4J4v",title:"title___26J81"}},17781:function(){},12289:function(v,f,e){"use strict";e.r(f),e.d(f,{default:function(){return H}});var i=e(11849),m=e(2824),w=e(30887),S=e(99210),d=e(67294),F=e(21349),V=e(57663),W=e(60404),K=e(3182),G=e(34792),o=e(48086),p=e(9715),A=e(82482),I=e(94043),x=e.n(I),R=e(88245),P=e(14267),h=e(48971),M=e(58691),Z=e.n(M),T=e(17673),t=e(85893),z=function(){var y=A.Z.useForm(),U=(0,m.Z)(y,1),C=U[0],u=C.getFieldValue,B=C.resetFields,l=(0,h.tT)("@@initialState"),j=l.initialState,L=l.setInitialState,N=(0,h.QT)(function(s){return{url:"/api/user/update_password/",method:"post",data:s}},{manual:!0,onSuccess:function(r){if((r==null?void 0:r.status)==="ok"){o.default.success("Password Updated."),L(function(k){return(0,i.Z)((0,i.Z)({},k),{},{currentUser:void 0})}),o.default.info("Please log in again.");var c=h.m8.location,D=c.query,a=D===void 0?{}:D,E=c.pathname,b=a.redirect;window.location.pathname!=="/user/login"&&!b&&h.m8.replace({pathname:"/user/login",search:(0,T.stringify)({redirect:E})})}else(r==null?void 0:r.status)==="error"&&o.default.error("Cannot update.")}}),g=N.run,n=function(){var s=(0,K.Z)(x().mark(function r(c){return x().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:console.log("values: ",c),g(c);case 2:case"end":return a.stop()}},r)}));return function(c){return s.apply(this,arguments)}}();return(0,t.jsx)("div",{className:Z().baseView,children:(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:Z().left,children:(0,t.jsxs)(R.ZP,{form:C,layout:"vertical",onFinish:n,submitter:{render:function(r,c){return[(0,t.jsx)(W.Z,{type:"primary",onClick:function(){var a,E;return(a=r.form)===null||a===void 0||(E=a.submit)===null||E===void 0?void 0:E.call(a)},children:"Update"},"submit")]}},hideRequiredMark:!0,children:[(0,t.jsx)(P.Z,{width:"md",name:"oldPassword",label:"Current Password",placeholder:"",rules:[{required:!0,message:"Please enter your current password!"}]}),(0,t.jsx)(P.Z,{width:"md",name:"newPassword",label:"New Password",placeholder:"",rules:[{required:!0,message:"Please enter your new password!"}]})]})})})})},$=z,J=e(57764),O=e.n(J),Q=S.Z.Item,Y=function(){var y={security:"Password Settings"},U=(0,d.useState)({mode:"inline",selectKey:"security"}),C=(0,m.Z)(U,2),u=C[0],B=C[1],l=(0,d.useRef)(),j=function(){requestAnimationFrame(function(){if(!!l.current){var n="inline",s=l.current.offsetWidth;l.current.offsetWidth<641&&s>400&&(n="horizontal"),window.innerWidth<768&&s>400&&(n="horizontal"),B((0,i.Z)((0,i.Z)({},u),{},{mode:n}))}})};(0,d.useLayoutEffect)(function(){return l.current&&(window.addEventListener("resize",j),j()),function(){window.removeEventListener("resize",j)}},[l.current]);var L=function(){return Object.keys(y).map(function(n){return(0,t.jsx)(Q,{children:y[n]},n)})},N=function(){var n=u.selectKey;switch(n){case"security":return(0,t.jsx)($,{});default:return null}};return(0,t.jsx)(F.Z,{children:(0,t.jsxs)("div",{className:O().main,ref:function(n){n&&(l.current=n)},children:[(0,t.jsx)("div",{className:O().leftMenu,children:(0,t.jsx)(S.Z,{mode:u.mode,selectedKeys:[u.selectKey],onClick:function(n){var s=n.key;B((0,i.Z)((0,i.Z)({},u),{},{selectKey:s}))},children:L()})}),(0,t.jsxs)("div",{className:O().right,children:[(0,t.jsx)("div",{className:O().title,children:y[u.selectKey]}),N()]})]})})},H=Y}}]);
