(self.webpackChunkcookbook_web=self.webpackChunkcookbook_web||[]).push([[263],{64335:function(E,x,e){"use strict";var m=e(67294),h=(0,m.createContext)({});x.Z=h},21349:function(E,x,e){"use strict";var m=e(84305),h=e(58184),V=e(17781),D=e.n(V),r=e(67294),R=e(94184),w=e.n(R),F=e(64335),W=function(v){var G=(0,r.useContext)(F.Z),K=v.children,A=v.contentWidth,Z=v.className,T=v.style,j=(0,r.useContext)(h.ZP.ConfigContext),U=j.getPrefixCls,O=v.prefixCls||U("pro"),B=A||G.contentWidth,I="".concat(O,"-grid-content");return r.createElement("div",{className:w()(I,Z,{wide:B==="Fixed"}),style:T},r.createElement("div",{className:"".concat(O,"-grid-content-children")},K))};x.Z=W},58691:function(E){E.exports={baseView:"baseView___oUjxy",left:"left___QdCoD",right:"right___2m6ha",avatar_title:"avatar_title___pMeZU",avatar:"avatar___2h6EO",button_view:"button_view___3YYEA",area_code:"area_code___10Orh",phone_number:"phone_number___1FB4u"}},57764:function(E){E.exports={main:"main___1HS-r",leftMenu:"leftMenu___3vGFj",right:"right___R4J4v",title:"title___26J81"}},17781:function(){},76504:function(E,x,e){"use strict";e.r(x),e.d(x,{default:function(){return _}});var m=e(11849),h=e(2824),V=e(30887),D=e(99210),r=e(67294),R=e(21349),w=e(57663),F=e(60404),W=e(3182),z=e(34792),v=e(48086),G=e(9715),K=e(82482),A=e(94043),Z=e.n(A),T=e(88245),j=e(14267),U=e(58691),O=e.n(U),B=e(92800),I=e.n(B),$=r.createContext({});function J(o,d){var a=(0,r.useContext)($),i=(0,r.useRef)(d);i.current=d;var c=(0,r.useState)(function(){return i.current?i.current(a.data[o]):a.data[o]}),C=(0,h.Z)(c,2),u=C[0],y=C[1],g=(0,r.useRef)(u);g.current=u;var P=(0,r.useRef)(!1);return(0,r.useEffect)(function(){return P.current=!0,function(){P.current=!1}},[]),(0,r.useEffect)(function(){var l=function(n){if(!P.current)setTimeout(function(){a.data[o]=n,a.update(o)});else if(d&&i.current){var M=i.current(n),L=g.current;I()(M,L)||y(M)}else y(n)};try{a.callbacks[o].add(l),a.update(o)}catch(t){a.callbacks[o]=new Set,a.callbacks[o].add(l),a.update(o)}return function(){a.callbacks[o].delete(l)}},[o]),u}var Q=e(48971),s=e(85893),Y=function(){var d=K.Z.useForm(),a=(0,h.Z)(d,1),i=a[0],c=i.getFieldValue,C=i.resetFields,u=J("@@initialState"),y=u.initialState,g=(0,Q.QT)(function(t){return{url:"/api/user/update_password/",method:"post",data:t}},{manual:!0,onSuccess:function(n){(n==null?void 0:n.status)==="ok"?(v.default.success("Password Updated."),C()):(n==null?void 0:n.status)==="error"&&v.default.error("Cannot update.")}}),P=g.run,l=function(){var t=(0,W.Z)(Z().mark(function n(M){return Z().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:console.log("values: ",M);case 1:case"end":return f.stop()}},n)}));return function(M){return t.apply(this,arguments)}}();return(0,s.jsx)("div",{className:O().baseView,children:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:O().left,children:(0,s.jsxs)(T.ZP,{form:i,layout:"vertical",onFinish:l,submitter:{render:function(n,M){return[(0,s.jsx)(F.Z,{type:"primary",onClick:function(){var f,N;return(f=n.form)===null||f===void 0||(N=f.submit)===null||N===void 0?void 0:N.call(f)},children:"Update"},"submit")]}},hideRequiredMark:!0,children:[(0,s.jsx)(j.Z,{width:"md",name:"currentPassword",label:"Current Password",placeholder:"",rules:[{required:!0,message:"Please enter your current password!"}]}),(0,s.jsx)(j.Z,{width:"md",name:"newPassword",label:"New Password",placeholder:"",rules:[{required:!0,message:"Please enter your new password!"}]})]})})})})},H=Y,X=e(57764),S=e.n(X),p=D.Z.Item,b=function(){var d={security:"Password Settings"},a=(0,r.useState)({mode:"inline",selectKey:"security"}),i=(0,h.Z)(a,2),c=i[0],C=i[1],u=(0,r.useRef)(),y=function(){requestAnimationFrame(function(){if(!!u.current){var t="inline",n=u.current.offsetWidth;u.current.offsetWidth<641&&n>400&&(t="horizontal"),window.innerWidth<768&&n>400&&(t="horizontal"),C((0,m.Z)((0,m.Z)({},c),{},{mode:t}))}})};(0,r.useLayoutEffect)(function(){return u.current&&(window.addEventListener("resize",y),y()),function(){window.removeEventListener("resize",y)}},[u.current]);var g=function(){return Object.keys(d).map(function(t){return(0,s.jsx)(p,{children:d[t]},t)})},P=function(){var t=c.selectKey;switch(t){case"security":return(0,s.jsx)(H,{});default:return null}};return(0,s.jsx)(R.Z,{children:(0,s.jsxs)("div",{className:S().main,ref:function(t){t&&(u.current=t)},children:[(0,s.jsx)("div",{className:S().leftMenu,children:(0,s.jsx)(D.Z,{mode:c.mode,selectedKeys:[c.selectKey],onClick:function(t){var n=t.key;C((0,m.Z)((0,m.Z)({},c),{},{selectKey:n}))},children:g()})}),(0,s.jsxs)("div",{className:S().right,children:[(0,s.jsx)("div",{className:S().title,children:d[c.selectKey]}),P()]})]})})},_=b}}]);
